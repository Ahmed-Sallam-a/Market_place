{% extends 'app/base.html' %}
{% load static %}
{% block title %}Add Product{% endblock title %}
{% block main-content %}
<div class="container my-5">
    <div class="row">
        <div class="col-sm-8 offset-sm-2">
            <div class="card shadow">
                <div class="card-body">
                    <h3 class="card-title text-center mb-4">List Your Product</h3>
                    <form action="" method="post" enctype="multipart/form-data" novalidate class="p-4">
                        {% csrf_token %}
                        
                        <!-- Basic Information -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Basic Information</h5>
                            <div class="form-group mb-3">
                                {{form.title.label_tag}} {{form.title}}
                                <small class="text-danger">{{form.title.errors|striptags}}</small>
                            </div>
                            <div class="form-group mb-3">
                                {{form.category.label_tag}} {{form.category}}
                                <small class="text-danger">{{form.category.errors|striptags}}</small>
                            </div>
                            <div class="form-group mb-3">
                                {{form.description.label_tag}} {{form.description}}
                                <small class="text-danger">{{form.description.errors|striptags}}</small>
                            </div>
                        </div>

                        <!-- Pricing -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Pricing</h5>
                            <div class="form-group mb-3">
                                {{form.selling_price.label_tag}} {{form.selling_price}}
                                <small class="text-danger">{{form.selling_price.errors|striptags}}</small>
                            </div>
                            <div class="form-group mb-3">
                                <div class="form-check">
                                    {{form.negotiable}} {{form.negotiable.label_tag}}
                                </div>
                            </div>
                        </div>

                        <!-- Product Details -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Product Details</h5>
                            <div class="form-group mb-3">
                                {{form.condition.label_tag}} {{form.condition}}
                                <small class="text-danger">{{form.condition.errors|striptags}}</small>
                            </div>
                            <div class="form-group mb-3">
                                {{form.brand.label_tag}} {{form.brand}}
                                <small class="text-danger">{{form.brand.errors|striptags}}</small>
                            </div>
                            <div class="form-group mb-3">
                                {{form.quantity.label_tag}} {{form.quantity}}
                                <small class="text-danger">{{form.quantity.errors|striptags}}</small>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Location</h5>
                            <div class="form-group mb-3">
                                {{form.location.label_tag}} {{form.location}}
                                <small class="text-danger">{{form.location.errors|striptags}}</small>
                            </div>
                        </div>

                        <!-- Warranty -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Warranty</h5>
                            <div class="form-group mb-3">
                                <div class="form-check">
                                    {{form.warranty}} {{form.warranty.label_tag}}
                                </div>
                            </div>
                            <div class="form-group mb-3 warranty-period" style="display: none;">
                                {{form.warranty_period.label_tag}} {{form.warranty_period}}
                                <small class="text-danger">{{form.warranty_period.errors|striptags}}</small>
                            </div>
                        </div>

                        <!-- Images -->
                        <div class="mb-4">
                            <h5 class="border-bottom pb-2">Images</h5>
                            <div class="form-group mb-3">
                                {{form.product_image.label_tag}} {{form.product_image}}
                                <small class="text-danger">{{form.product_image.errors|striptags}}</small>
                                <small class="text-muted d-block">Upload a clear, high-quality main image</small>
                            </div>
                            <div class="form-group mb-3">
                                {{form.additional_images.label_tag}} {{form.additional_images}}
                                <small class="text-danger">{{form.additional_images.errors|striptags}}</small>
                                <small class="text-muted d-block">Add more images to showcase your product</small>
                            </div>
                        </div>

                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary px-5">List Product</button>
                            <a href="{% url 'seller-dashboard' %}" class="btn btn-secondary">Cancel</a>
                        </div>
                        
                        {% if form.non_field_errors %}
                        {% for error in form.non_field_errors %}
                        <p class="alert alert-danger my-3">{{error}}</p>
                        {% endfor %}
                        {% endif %}
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const warrantyCheckbox = document.querySelector('#id_warranty');
    const warrantyPeriod = document.querySelector('.warranty-period');
    
    warrantyCheckbox.addEventListener('change', function() {
        warrantyPeriod.style.display = this.checked ? 'block' : 'none';
    });
    
    // Initial state
    warrantyPeriod.style.display = warrantyCheckbox.checked ? 'block' : 'none';
});
</script>
{% endblock main-content %} 